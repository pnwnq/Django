{% extends 'base.html' %}

{% block title %}æŠ€æœ¯å±•ç¤ºæŒ‡å— - Djangoè®¤è¯ç³»ç»Ÿ{% endblock %}

{% block content %}
<div class="tech-demo-container">
    <div class="demo-header">
        <h2>ğŸ”§ å…¨æ ˆæŠ€æœ¯å±•ç¤ºæŒ‡å—</h2>
        <p>å¤šç»´åº¦å±•ç¤ºDjangoè®¤è¯ç³»ç»Ÿçš„æŠ€æœ¯æ·±åº¦</p>
    </div>
    
    <!-- ç¬¬ä¸€å±‚ï¼šDjango Admin åå°å±•ç¤º -->
    <div class="demo-section admin-section">
        <h3>ğŸ”‘ ç¬¬ä¸€å±‚ï¼šDjango Admin åå°ç®¡ç†</h3>
        <div class="demo-content">
            <div class="demo-description">
                <h4>å±•ç¤ºè¦ç‚¹ï¼š</h4>
                <ul>
                    <li>âœ… ç”¨æˆ·ç®¡ç†ç•Œé¢çš„ä¸“ä¸šæ€§</li>
                    <li>âœ… æ•°æ®åº“è¡¨ç»“æ„çš„è®¾è®¡</li>
                    <li>âœ… Djangoå†…ç½®æƒé™ç³»ç»Ÿ</li>
                    <li>âœ… ç®¡ç†åå°çš„å®‰å…¨æ§åˆ¶</li>
                </ul>
            </div>
            <div class="demo-action">
                <a href="/admin/" target="_blank" class="demo-link admin-link">
                    ğŸ”§ è®¿é—®Djangoç®¡ç†åå°
                </a>
                <p class="demo-tip">ğŸ’¡ å±•ç¤ºç”¨æˆ·è¡¨ã€ä¼šè¯è¡¨ã€æƒé™è¡¨ç­‰æ ¸å¿ƒæ•°æ®ç»“æ„</p>
            </div>
        </div>
    </div>
    
    <!-- ç¬¬äºŒå±‚ï¼šæµè§ˆå™¨å¼€å‘è€…å·¥å…·åˆ†æ -->
    <div class="demo-section devtools-section">
        <h3>ğŸ› ï¸ ç¬¬äºŒå±‚ï¼šæµè§ˆå™¨å¼€å‘è€…å·¥å…·åˆ†æ</h3>
        <div class="demo-content">
            <div class="demo-description">
                <h4>å…³é”®è§‚å¯Ÿç‚¹ï¼š</h4>
                <ul>
                    <li>ğŸŒ <strong>Networkæ ‡ç­¾</strong>ï¼šHTTPè¯·æ±‚/å“åº”è¿‡ç¨‹</li>
                    <li>ğŸª <strong>Applicationæ ‡ç­¾</strong>ï¼šSession Cookieç®¡ç†</li>
                    <li>ğŸ”„ <strong>é‡å®šå‘é“¾è·¯</strong>ï¼š302çŠ¶æ€ç è·³è½¬é€»è¾‘</li>
                    <li>ğŸ”’ <strong>Securityæ ‡ç­¾</strong>ï¼šCSRF TokenéªŒè¯</li>
                </ul>
            </div>
            <div class="demo-steps">
                <h4>æ“ä½œæ­¥éª¤ï¼š</h4>
                <ol>
                    <li>æŒ‰F12æ‰“å¼€å¼€å‘è€…å·¥å…·</li>
                    <li>åˆ‡æ¢åˆ°Networkæ ‡ç­¾</li>
                    <li>æ‰§è¡Œç™»å½•/ç™»å‡ºæ“ä½œ</li>
                    <li>è§‚å¯ŸHTTPçŠ¶æ€ç å’Œé‡å®šå‘</li>
                    <li>æ£€æŸ¥Application â†’ Cookies â†’ sessionid</li>
                </ol>
            </div>
        </div>
    </div>
    
    <!-- ç¬¬ä¸‰å±‚ï¼šæŠ€æœ¯æ¶æ„æ·±åº¦è§£æ -->
    <div class="demo-section architecture-section">
        <h3>ğŸ—ï¸ ç¬¬ä¸‰å±‚ï¼šæŠ€æœ¯æ¶æ„æ·±åº¦è§£æ</h3>
        <div class="demo-content">
            <div class="architecture-grid">
                <div class="arch-item">
                    <h4>ğŸ” è®¤è¯æµç¨‹</h4>
                    <p>Djangoå†…ç½®authç³»ç»Ÿ â†’ authenticate() â†’ login() â†’ sessionç®¡ç†</p>
                </div>
                <div class="arch-item">
                    <h4>ğŸ›¡ï¸ æƒé™æ§åˆ¶</h4>
                    <p>@login_requiredè£…é¥°å™¨ â†’ ä¸­é—´ä»¶æ‹¦æˆª â†’ è‡ªåŠ¨é‡å®šå‘</p>
                </div>
                <div class="arch-item">
                    <h4>ğŸ—„ï¸ æ•°æ®å­˜å‚¨</h4>
                    <p>SQLiteæ•°æ®åº“ â†’ auth_userè¡¨ â†’ django_sessionè¡¨</p>
                </div>
                <div class="arch-item">
                    <h4>ğŸ¨ å‰ç«¯æ¶æ„</h4>
                    <p>Django Templates â†’ CSS3åŠ¨ç”» â†’ å“åº”å¼è®¾è®¡</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- å®æ—¶æŠ€æœ¯æ•°æ®å±•ç¤º -->
    <div class="demo-section data-section">
        <h3>ğŸ“Š å®æ—¶æŠ€æœ¯æ•°æ®å±•ç¤º</h3>
        <div class="data-grid">
            <div class="data-item">
                <span class="data-label">å½“å‰ä¼šè¯IDï¼š</span>
                <span class="data-value">{{ session_key|default:"æœªç”Ÿæˆ" }}</span>
            </div>
            <div class="data-item">
                <span class="data-label">ç”¨æˆ·ä»£ç†ï¼š</span>
                <span class="data-value">{{ user_agent|truncatechars:50 }}</span>
            </div>
            <div class="data-item">
                <span class="data-label">ç”¨æˆ·æƒé™ï¼š</span>
                <span class="data-value">{% if user.is_superuser %}è¶…çº§ç®¡ç†å‘˜{% else %}æ™®é€šç”¨æˆ·{% endif %}</span>
            </div>
            <div class="data-item">
                <span class="data-label">è®¤è¯çŠ¶æ€ï¼š</span>
                <span class="data-value authenticated">âœ… å·²è®¤è¯</span>
            </div>
        </div>
    </div>
    
    <!-- æ ¸å¿ƒä»£ç å±•ç¤º -->
    <div class="demo-section code-section">
        <h3>ğŸ’¾ æ ¸å¿ƒä»£ç ç‰‡æ®µå±•ç¤º</h3>
        <div class="code-examples">
            <div class="code-example">
                <h4>æƒé™æ§åˆ¶è£…é¥°å™¨</h4>
                <pre><code>@login_required
def dashboard(request):
    """å—ä¿æŠ¤çš„ç”¨æˆ·ä»ªè¡¨æ¿"""
    return render(request, 'accounts/dashboard.html')</code></pre>
            </div>
            <div class="code-example">
                <h4>è®¤è¯é€»è¾‘</h4>
                <pre><code>user = authenticate(request, 
                   username=username, 
                   password=password)
if user is not None:
    login(request, user)</code></pre>
            </div>
        </div>
    </div>
    
    <!-- æŠ€æœ¯å±•ç¤ºæ¸…å• -->
    <div class="demo-section checklist-section">
        <h3>ğŸ“‹ é¢è¯•å±•ç¤ºæ¸…å•</h3>
        <div class="checklist">
            <div class="check-item">
                <input type="checkbox" id="frontend"> 
                <label for="frontend">å‰ç«¯ç”¨æˆ·ä½“éªŒæ¼”ç¤º</label>
            </div>
            <div class="check-item">
                <input type="checkbox" id="backend"> 
                <label for="backend">Django Adminåå°å±•ç¤º</label>
            </div>
            <div class="check-item">
                <input type="checkbox" id="devtools"> 
                <label for="devtools">å¼€å‘è€…å·¥å…·æŠ€æœ¯åˆ†æ</label>
            </div>
            <div class="check-item">
                <input type="checkbox" id="security"> 
                <label for="security">å®‰å…¨æœºåˆ¶è®²è§£</label>
            </div>
            <div class="check-item">
                <input type="checkbox" id="architecture"> 
                <label for="architecture">ç³»ç»Ÿæ¶æ„è¯´æ˜</label>
            </div>
        </div>
    </div>
</div>

<style>
    .tech-demo-container {
        max-width: 1200px;
        margin: 0 auto;
    }
    
    .demo-header {
        text-align: center;
        margin-bottom: 40px;
    }
    
    .demo-header h2 {
        color: #2d3748;
        font-size: 2.5em;
        margin-bottom: 10px;
    }
    
    .demo-header p {
        color: #718096;
        font-size: 1.2em;
    }
    
    .demo-section {
        background: #f7fafc;
        border-radius: 15px;
        padding: 30px;
        margin-bottom: 25px;
        border-left: 5px solid;
    }
    
    .admin-section {
        border-left-color: #48bb78;
    }
    
    .devtools-section {
        border-left-color: #ed8936;
    }
    
    .architecture-section {
        border-left-color: #667eea;
    }
    
    .data-section {
        border-left-color: #38b2ac;
    }
    
    .code-section {
        border-left-color: #9f7aea;
    }
    
    .checklist-section {
        border-left-color: #f56565;
    }
    
    .demo-section h3 {
        color: #2d3748;
        font-size: 1.5em;
        margin-bottom: 20px;
    }
    
    .demo-content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 30px;
        align-items: start;
    }
    
    .demo-description ul, .demo-steps ol {
        padding-left: 20px;
        line-height: 1.8;
    }
    
    .demo-description li, .demo-steps li {
        margin-bottom: 8px;
        color: #4a5568;
    }
    
    .demo-link {
        display: inline-block;
        padding: 15px 30px;
        border-radius: 10px;
        text-decoration: none;
        font-weight: 600;
        font-size: 1.1em;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        margin-bottom: 15px;
    }
    
    .admin-link {
        background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
        color: white;
        box-shadow: 0 5px 15px rgba(72, 187, 120, 0.3);
    }
    
    .demo-link:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(72, 187, 120, 0.4);
    }
    
    .demo-tip {
        color: #718096;
        font-style: italic;
        margin: 0;
    }
    
    .architecture-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
    }
    
    .arch-item {
        background: white;
        border-radius: 10px;
        padding: 20px;
        border: 1px solid #e2e8f0;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    
    .arch-item h4 {
        color: #2d3748;
        margin-bottom: 10px;
        font-size: 1.1em;
    }
    
    .arch-item p {
        color: #4a5568;
        line-height: 1.5;
        margin: 0;
    }
    
    .data-grid {
        display: grid;
        gap: 15px;
    }
    
    .data-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background: white;
        border-radius: 8px;
        padding: 15px;
        border: 1px solid #e2e8f0;
    }
    
    .data-label {
        font-weight: 600;
        color: #2d3748;
    }
    
    .data-value {
        color: #4a5568;
        font-family: monospace;
        font-size: 0.9em;
    }
    
    .data-value.authenticated {
        color: #38a169;
        font-weight: 600;
    }
    
    .code-examples {
        display: grid;
        gap: 20px;
    }
    
    .code-example {
        background: white;
        border-radius: 10px;
        padding: 20px;
        border: 1px solid #e2e8f0;
    }
    
    .code-example h4 {
        color: #2d3748;
        margin-bottom: 15px;
        font-size: 1.1em;
    }
    
    .code-example pre {
        background: #2d3748;
        color: #e2e8f0;
        padding: 15px;
        border-radius: 8px;
        overflow-x: auto;
        margin: 0;
        font-size: 0.9em;
        line-height: 1.4;
    }
    
    .checklist {
        display: grid;
        gap: 15px;
    }
    
    .check-item {
        display: flex;
        align-items: center;
        background: white;
        border-radius: 8px;
        padding: 15px;
        border: 1px solid #e2e8f0;
    }
    
    .check-item input[type="checkbox"] {
        margin-right: 12px;
        transform: scale(1.2);
    }
    
    .check-item label {
        color: #2d3748;
        font-weight: 500;
        cursor: pointer;
    }
    
    @media (max-width: 768px) {
        .demo-content {
            grid-template-columns: 1fr;
            gap: 20px;
        }
        
        .architecture-grid {
            grid-template-columns: 1fr;
        }
    }
</style>
{% endblock %}
